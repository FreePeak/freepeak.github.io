<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="675" viewBox="0 0 1200 675">
  <defs>
    <style>
      :root {
        --bg1: #f7fafc;
        --bg2: #eef2ff;
        --ink: #111827;
        --muted: #4b5563;
        --ok: #0f766e;
        --bad: #b91c1c;
        --box: #ffffff;
      }
      .title { font: 700 44px ui-serif, Georgia, "Times New Roman", serif; fill: var(--ink); }
      .sub { font: 400 24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif; fill: var(--muted); }
      .label { font: 700 22px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif; fill: var(--ink); }
      .small { font: 500 18px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif; fill: var(--muted); }
      .vpcA { fill: #ecfeff; stroke: var(--ok); stroke-width: 3; rx: 22; }
      .vpcB { fill: #fff1f2; stroke: var(--bad); stroke-width: 3; rx: 22; }
      .link { stroke: var(--bad); stroke-width: 5; fill: none; stroke-dasharray: 12 10; }
      .linkOk { stroke: var(--ok); stroke-width: 5; fill: none; }
      .x { stroke: var(--bad); stroke-width: 8; }
    </style>

    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#f7fafc"/>
      <stop offset="1" stop-color="#eef2ff"/>
    </linearGradient>

    <marker id="arrowHeadBad" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
      <path d="M0,0 L14,7 L0,14 z" fill="#b91c1c"/>
    </marker>

    <marker id="arrowHeadOk" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
      <path d="M0,0 L14,7 L0,14 z" fill="#0f766e"/>
    </marker>
  </defs>

  <rect x="0" y="0" width="1200" height="675" fill="url(#bg)"/>

  <text x="70" y="95" class="title">CIDR chồng lấp: đường nối bị “kẹt”</text>
  <text x="70" y="135" class="sub">Peering/VPN/TGW không route được nếu hai bên dùng dải IP overlap</text>

  <!-- VPC A -->
  <rect x="110" y="210" width="430" height="300" class="vpcA"/>
  <text x="150" y="270" class="label">VPC A (AWS dev)</text>
  <text x="150" y="305" class="small">CIDR: 10.0.0.0/16</text>
  <rect x="150" y="345" width="350" height="55" fill="#ffffff" stroke="#0f766e" stroke-width="2" rx="14"/>
  <text x="175" y="380" class="small" fill="#111827">subnets, EKS, services…</text>

  <!-- VPC B -->
  <rect x="660" y="210" width="430" height="300" class="vpcB"/>
  <text x="700" y="270" class="label">VPC B (on-prem / other VPC)</text>
  <text x="700" y="305" class="small">CIDR: 10.0.0.0/16</text>
  <rect x="700" y="345" width="350" height="55" fill="#ffffff" stroke="#b91c1c" stroke-width="2" rx="14"/>
  <text x="725" y="380" class="small" fill="#111827">apps, databases, users…</text>

  <!-- Broken connection -->
  <path d="M540 360 C590 320, 610 320, 660 360" class="link" marker-end="url(#arrowHeadBad)"/>
  <line x1="585" y1="310" x2="615" y2="340" class="x"/>
  <line x1="615" y1="310" x2="585" y2="340" class="x"/>
  <text x="535" y="415" class="small" fill="#b91c1c">Overlap → không route</text>

  <!-- Fix suggestion -->
  <rect x="110" y="545" width="980" height="90" fill="#ffffff" stroke="#111827" stroke-width="3" rx="18"/>
  <text x="150" y="600" class="label">Cách tránh: chuẩn hóa “bảng CIDR” từ sớm</text>
  <text x="560" y="600" class="small">VD: dev 10.10.0.0/16 · staging 10.20.0.0/16 · prod 10.30.0.0/16</text>

  <!-- Optional ok arrow hint -->
  <path d="M540 250 C590 210, 610 210, 660 250" class="linkOk" marker-end="url(#arrowHeadOk)" opacity="0.35"/>
  <text x="530" y="205" class="small" opacity="0.55">(khi CIDR không overlap)</text>
</svg>
