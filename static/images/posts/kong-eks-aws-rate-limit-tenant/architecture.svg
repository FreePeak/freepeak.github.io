<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720">
  <defs>
    <style>
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
      .h1 { font-weight: 700; }
      .h2 { font-weight: 600; }
      .stroke { stroke: #0b1220; }
      .outline { fill: none; stroke: #0b1220; stroke-width: 2; }
      .muted { fill: none; stroke: #0b1220; stroke-width: 2; stroke-dasharray: 8 8; opacity: 0.55; }
      .arrow { fill: none; stroke: #0b1220; stroke-width: 2; }
      .aws { fill: #fff6e8; }
      .eks { fill: #eef4ff; }
      .kong { fill: #e9fff6; }
      .note { fill: #ffffff; }
      .accent { fill: #00d084; }
    </style>
  </defs>

  <rect width="1200" height="720" fill="#ffffff"/>

  <text x="80" y="84" class="mono h1" font-size="34" fill="#0b1220">Architecture: Client -> ALB -> Kong (DB-less) -> Services</text>
  <text x="80" y="118" class="mono" font-size="18" fill="#0b1220" opacity="0.75">Tách rõ: ALB lo networking/TLS. Kong lo policy Layer 7 (auth, rate limit, transform).</text>

  <!-- AWS boundary -->
  <rect x="60" y="160" width="1080" height="480" rx="18" fill="#ffffff" class="muted"/>
  <text x="86" y="196" class="mono h2" font-size="18" fill="#0b1220" opacity="0.7">AWS</text>

  <!-- Nodes row -->
  <g transform="translate(110,260)">
    <rect x="0" y="0" width="210" height="72" rx="14" class="outline" fill="#ffffff"/>
    <text x="18" y="45" class="mono h2" font-size="20" fill="#0b1220">Client</text>

    <rect x="270" y="0" width="250" height="72" rx="14" class="outline" fill="#fff6e8"/>
    <text x="288" y="30" class="mono h2" font-size="18" fill="#0b1220">AWS ALB</text>
    <text x="288" y="54" class="mono" font-size="14" fill="#0b1220" opacity="0.7">TLS/ACM, Internet LB</text>

    <rect x="590" y="0" width="270" height="72" rx="14" class="outline" fill="#e9fff6"/>
    <text x="608" y="30" class="mono h2" font-size="18" fill="#0b1220">Kong Proxy</text>
    <text x="608" y="54" class="mono" font-size="14" fill="#0b1220" opacity="0.7">DB-less, plugins/policy</text>

    <rect x="930" y="0" width="210" height="72" rx="14" class="outline" fill="#eef4ff"/>
    <text x="948" y="30" class="mono h2" font-size="18" fill="#0b1220">Services</text>
    <text x="948" y="54" class="mono" font-size="14" fill="#0b1220" opacity="0.7">EKS workloads</text>

    <!-- arrows -->
    <path d="M 210 36 L 270 36" class="arrow"/>
    <path d="M 520 36 L 590 36" class="arrow"/>
    <path d="M 860 36 L 930 36" class="arrow"/>

    <!-- arrowheads -->
    <path d="M 266 36 l -12 -7 v 14 z" fill="#0b1220"/>
    <path d="M 586 36 l -12 -7 v 14 z" fill="#0b1220"/>
    <path d="M 926 36 l -12 -7 v 14 z" fill="#0b1220"/>
  </g>

  <!-- EKS cluster boundary -->
  <rect x="560" y="210" width="540" height="360" rx="18" fill="#ffffff" class="muted"/>
  <text x="586" y="246" class="mono h2" font-size="18" fill="#0b1220" opacity="0.7">EKS Cluster</text>

  <!-- Notes -->
  <g transform="translate(120,430)">
    <rect x="0" y="0" width="420" height="180" rx="16" class="outline" fill="#ffffff"/>
    <text x="20" y="36" class="mono h2" font-size="18" fill="#0b1220">Why this split works</text>
    <text x="20" y="70" class="mono" font-size="14" fill="#0b1220">1) ALB: networking + TLS termination</text>
    <text x="20" y="98" class="mono" font-size="14" fill="#0b1220">2) Kong: identity-aware policy (rate limit/auth)</text>
    <text x="20" y="126" class="mono" font-size="14" fill="#0b1220">3) Services: business logic, less duplicated code</text>
  </g>

  <!-- Highlight for Kong policy -->
  <g transform="translate(680,430)">
    <rect x="0" y="0" width="380" height="180" rx="16" class="outline" fill="#e9fff6"/>
    <text x="20" y="36" class="mono h2" font-size="18" fill="#0b1220">Kong responsibilities</text>
    <text x="20" y="70" class="mono" font-size="14" fill="#0b1220">- AuthN/AuthZ (JWT/API key)</text>
    <text x="20" y="98" class="mono" font-size="14" fill="#0b1220">- Rate limiting per tenant/consumer</text>
    <text x="20" y="126" class="mono" font-size="14" fill="#0b1220">- Transform + logging + metrics</text>
  </g>

  <circle cx="1040" cy="102" r="6" class="accent"/>
</svg>
